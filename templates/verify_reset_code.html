{% extends "base_generic.html" %}

{% block content %}
  <div style="display: block;">
    <h2 style="text-align: center;">Verify Reset Code</h2>
    <p style="text-align: center; color: #666; margin-bottom: 30px;">
      Enter the verification code sent to your email and your new password
    </p>
  </div>
  
  <div style="display: block;">
    {% if messages %}
      {% for message in messages %}
        <div class="alert alert-{{ message.tags }}" style="margin-bottom: 20px; padding: 10px; border-radius: 4px; text-align: center;">
          {{ message }}
        </div>
      {% endfor %}
    {% endif %}
    
    <form method="post" style="display: flex; flex-direction: column; align-items: center;">
      {% csrf_token %}
      
      <div style="margin-bottom: 20px; width: 400px;">
        <div style="display: block; margin-bottom: 10px;">
          <label for="email">Email Address:</label>
        </div>
        <div style="display: block; text-align: center;">
          <input type="email" id="email" name="email" required 
                 style="width: 100%; padding: 10px; border: 1px solid #ccc; border-radius: 4px; box-sizing: border-box;">
        </div>
      </div>
      
      <div style="margin-bottom: 20px; width: 400px;">
        <div style="display: block; margin-bottom: 10px;">
          <label for="code">Verification Code:</label>
        </div>
        <div style="display: block; text-align: center;">
          <input type="text" id="code" name="code" required maxlength="6" 
                 style="width: 100%; padding: 10px; border: 1px solid #ccc; border-radius: 4px; box-sizing: border-box; text-align: center; font-size: 18px; letter-spacing: 2px;">
        </div>
      </div>
      
      <div style="margin-bottom: 20px; width: 400px;">
        <div style="display: block; margin-bottom: 10px;">
          <label for="new_password">New Password:</label>
        </div>
        <div style="display: block; text-align: center;">
          <input type="password" id="new_password" name="new_password" required 
                 style="width: 100%; padding: 10px; border: 1px solid #ccc; border-radius: 4px; box-sizing: border-box;">
        </div>
      </div>
      
      <div style="margin-bottom: 20px; width: 400px;">
        <div style="display: block; margin-bottom: 10px;">
          <label for="confirm_password">Confirm New Password:</label>
        </div>
        <div style="display: block; text-align: center;">
          <input type="password" id="confirm_password" name="confirm_password" required 
                 style="width: 100%; padding: 10px; border: 1px solid #ccc; border-radius: 4px; box-sizing: border-box;">
        </div>
      </div>
      
      <button type="submit" class="button button-primary" 
              style="text-align: center; width: 400px; padding: 12px; background-color: #007bff; color: white; border: none; border-radius: 4px; cursor: pointer;">
        Reset Password
      </button>
    </form>
    
    <div class="footer-links" style="text-align: center; margin-top: 20px;">
      <a href="/send-reset-code" style="color: darkgrey">Resend Code</a> | 
      <a href="/login" style="color: darkgrey">Back to Login</a>
    </div>
  </div>
{% endblock %}